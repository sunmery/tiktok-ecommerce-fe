import{r as d,i,g as c,s as o,j as e,B as h,a,b as x,C as j,c as m}from"./index-0_AJGUiB.js";import{l as s}from"./index-l0fAZxi5.js";import{s as g,u}from"./user-DJrwfZtz.js";import{u as p}from"./react-B4QmjwaR.js";function S(){const{account:t}=p(u),r=n=>Object.values(n).every(l=>l==="");return d.useMemo(()=>{i()&&c().then(n=>{(n==null?void 0:n.state)==="ok"?g({id:n.data.id,avatar:n.data.avatar,email:n.data.email,name:n.data.name,owner:n.data.owner,type:n.data.type}):o(`getUserinfo() error: ${n==null?void 0:n.msg}`)})},[]),e.jsx("main",{children:r(t)?e.jsxs(e.Fragment,{children:["You are not logged in. Please log in first.",e.jsx(h,{onClick:()=>a(x()),children:"Login"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("table",{children:[e.jsx("caption",{children:"Account"}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"id"}),e.jsx("th",{children:"email"}),e.jsx("th",{children:"name"}),e.jsx("th",{children:"owner"}),e.jsx("th",{children:"type"}),e.jsx("th",{children:"avatar"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.owner}),e.jsx("td",{children:t.type}),e.jsx("td",{children:e.jsx("img",{src:t.avatar,alt:t.name})}),e.jsx("td",{children:t.name})]})})]}),e.jsxs("div",{children:["call:",s.isSilentSigninRequired()??e.jsxs("div",{style:{marginTop:200,textAlign:"center",alignItems:"center"},children:[e.jsx(s.SilentSignin,{sdk:j,isLoggedIn:i,handleReceivedSilentSigninSuccessEvent:()=>a("/"),handleReceivedSilentSigninFailureEvent:()=>{}}),e.jsx("p",{children:"Logging in..."})]})]})]})})}const E=m("/profile/")({component:()=>e.jsx(S,{})});export{E as Route,S as default};
