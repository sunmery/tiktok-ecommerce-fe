import{c as a,r as n,j as e}from"./index-0_AJGUiB.js";import{u as i}from"./react-B4QmjwaR.js";import{u as o}from"./user-DJrwfZtz.js";import{c as d,s as l,a as _}from"./creditCards-CveCSN9b.js";const j=a("/credit_cards/")({component:h});function h(){const t=i(d),c=i(o.account);return n.useEffect(()=>{fetch(`http://36.137.181.229:30007/v1/credit_cards/list?owner=${c.owner}&name=${c.name}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},mode:"cors"}).then(r=>r.json()).then(r=>{if(r&&Array.isArray(r.credit_cards))l(r.credit_cards);else throw new Error("Invalid credit_cards data")}).catch(r=>console.error(r))},[]),e.jsx("div",{children:Array.isArray(t.credit_cards)&&t.credit_cards.length>0?t.credit_cards.map(r=>e.jsxs("ul",{children:[e.jsxs("li",{children:["id: ",r.id]}),e.jsxs("li",{children:["owner: ",r.owner]}),e.jsxs("li",{children:["name: ",r.name]}),e.jsxs("li",{children:["credit_card_number: ",r.credit_card_number]}),e.jsxs("li",{children:["credit_card_cvv: ",r.credit_card_cvv]}),e.jsxs("li",{children:["credit_card_expiration_year: ",r.credit_card_expiration_year]}),e.jsxs("li",{children:["credit_card_expiration_month:"," ",r.credit_card_expiration_month]}),e.jsx("li",{children:e.jsx("button",{onClick:s=>{s.preventDefault(),_(r)},children:"Set Default Credit Cards"})})]},r.id)):e.jsx("p",{children:"暂未获取到任何信用卡数据"})})}export{j as Route};
